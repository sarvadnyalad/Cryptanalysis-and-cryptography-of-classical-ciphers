<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Cipher Tool</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css"/>
</head>
<body>

<!-- Knowledge Check Modal -->
<div class="modal fade" id="knowledgeModal" tabindex="-1">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Quick Question</h5>
      </div>
      <div class="modal-body">
        <p>Are you already familiar with classical ciphers and ready to use the encryption/decryption tools?</p>
      </div>
      <div class="modal-footer">
        <button id="knowledgeYes" class="btn btn-primary">Yes, continue</button>
        <button id="knowledgeNo" class="btn btn-secondary">No, show study guide</button>
      </div>
    </div>
  </div>
</div>

<div id="navToggle">&#9776;</div>

<!-- Sidebar -->
<div class="navbar" id="mySidebar">
  <a href="#" onclick="closeNav()">âŒ Close</a>
  <a href="#">ğŸ  Home</a>
  <a href="study_guide.html">ğŸ“– Ciphers Guide</a>
  <a href="bruteforce.html">ğŸ’¥ Brute Force Caesar</a>
  <a href="frequencyanalysis.html">ğŸ“Š Frequency Analysis</a>
  <a href="crack_cipher.html">ğŸ” Crack Cipher</a>
  <a href="quiz.html">ğŸ§  Quiz</a>
</div>

<div class="container">

  <div class="alert alert-warning text-center mb-4" role="alert">
    <strong>Quick Question:</strong> Are you already familiar with classical ciphers?
    <br>
    <button id="knowYes" class="btn btn-sm btn-primary mt-2 me-2">Yes, take me to tools</button>
    <button id="knowNo" class="btn btn-sm btn-secondary mt-2">No, show study guide</button>
  </div>

  <h1 class="text-center mb-4"><b>ğŸ”Interactive Tool for Classical Cipher</b></h1>

  <div class="form-check form-switch text-end mb-3">
    <input class="form-check-input" type="checkbox" id="darkModeToggle" onclick="toggleDarkMode()">
    <label class="form-check-label" for="darkModeToggle">Enable Dark Mode</label>
  </div>

  <div class="mb-3">
    <label for="textInput" class="form-label">ğŸ“ Enter Text:</label>
    <textarea id="textInput" class="form-control" rows="3" placeholder="Enter text here..."></textarea>
  </div>

  <!-- Cipher Grid -->
  <div class="cipher-grid">
    <div class="cipher-box">
      <label for="substitutionCipher">ğŸ” Substitution Ciphers</label>
      <select id="substitutionCipher" class="form-select">
        <option value="caesar">Caesar Cipher</option>
        <option value="vigenere">VigenÃ¨re Cipher</option>
        <option value="playfair">Playfair Cipher</option>
      </select>
    </div>

    <div class="cipher-box">
      <label for="transpositionCipher">ğŸ”ƒ Transposition Ciphers</label>
      <select id="transpositionCipher" class="form-select">
        <option value="railfence">Rail Fence Cipher</option>
        <option value="columnar">Columnar Cipher</option>
      </select>
    </div>
  </div>

  <!-- Cipher Options -->
  <div id="caesarOptions" class="mb-3">
    <label for="shiftValue" class="form-label">ğŸ”‘ Shift Value:</label>
    <input type="number" id="shiftValue" class="form-control" min="1" max="25" value="3">
  </div>

  <div id="vigenereOptions" class="mb-3" style="display:none;">
    <label for="vigenereKey" class="form-label">ğŸ”‘ VigenÃ¨re Key:</label>
    <input type="text" id="vigenereKey" class="form-control" placeholder="Enter key (letters only)">
  </div>

  <div id="playfairOptions" class="mb-3" style="display:none;">
    <label for="playfairKey" class="form-label">ğŸ”‘ Playfair Key:</label>
    <input type="text" id="playfairKey" class="form-control" placeholder="Enter key (letters only)">
  </div>

  <div id="railfenceOptions" class="mb-3" style="display:none;">
    <label for="railfenceRails" class="form-label">ğŸš† Number of Rails:</label>
    <input type="number" id="railfenceRails" class="form-control" min="2" max="10">
  </div>

  <div id="columnarOptions" class="mb-3" style="display:none;">
    <label for="columnarKey" class="form-label">ğŸ”‘ Columnar Key:</label>
    <input type="text" id="columnarKey" class="form-control" placeholder="e.g. SECRET or 0-2-1-3">
  </div>

  <!-- Action Buttons -->
  <div class="card p-3 text-center mt-4 shadow-sm">
    <button class="btn btn-primary me-2" onclick="processText('encrypt')">ğŸ”’ Encrypt</button>
    <button class="btn btn-success" onclick="processText('decrypt')">ğŸ”“ Decrypt</button>
  </div>

  <!-- Loading Spinner -->
  <div class="text-center mt-3">
    <div id="loadingSpinner" class="spinner-border text-primary" role="status">
      <span class="visually-hidden">Loading...</span>
    </div>
  </div>

  <!-- Output Area -->
  <div class="mt-4">
    <h4>ğŸ§¾ Result:</h4>
    <p id="outputText" class="border p-3 bg-white fade-in rounded"></p>
  </div>

  <!-- Rail Fence Grid Button -->
  <div class="mt-3 text-center" id="gridButtonContainer" style="display: none;">
    <button class="btn btn-info" onclick="showRailFenceGrid()">ğŸ“ Show Grid</button>
  </div>

  <!-- Rail Fence Grid Display -->
  <div id="railFenceGrid" class="mt-4 p-3 border rounded bg-light" style="display: none;">
    <h5>ğŸ”· Rail Fence Pattern:</h5>
    <div id="gridVisualization"></div>
  </div>
</div>

<script src="script.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

